<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAi Mirror Live Chat - ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà</title>
    <style>
        :root {
            --primary-color: #6a5acd;
            --secondary-color: #9370db;
            --accent-color: #ff7e5f;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
        }
        
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 0;
            color: var(--dark-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .personality-cards {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .personality-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            width: 280px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: center;
        }
        
        .personality-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .personality-card h2 {
            color: var(--primary-color);
            margin-top: 15px;
        }
        
        .personality-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .chat-room {
            display: none;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            height: 70vh;
            flex-direction: column;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .chat-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 20px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f9f9f9;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 70%;
            word-wrap: break-word;
            line-height: 1.5;
        }
        
        .message.user {
            background: #e3f2fd;
            margin-left: auto;
            border-bottom-right-radius: 0;
        }
        
        .message.ai {
            background: white;
            margin-right: auto;
            border-bottom-left-radius: 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .quote-message {
            background: #fff9c4;
            border-left: 4px solid #ffd600;
            padding: 10px 15px;
            margin: 10px 0;
            font-style: italic;
        }
        
        .chat-input-area {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
            background: white;
            border-radius: 0 0 15px 15px;
        }
        
        #chat-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
            font-family: 'Prompt', sans-serif;
        }
        
        #send-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 0 20px;
            margin-left: 10px;
            cursor: pointer;
            transition: background 0.3s;
            font-family: 'Prompt', sans-serif;
        }
        
        #send-btn:hover {
            background: #e86a4d;
        }
        
        .back-btn {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-family: 'Prompt', sans-serif;
        }
        
        .typing-indicator {
            display: none;
            color: #888;
            font-style: italic;
            margin-bottom: 15px;
        }
        
        .emoji {
            font-size: 1.2em;
            vertical-align: middle;
        }
        
        .genz-word {
            color: #ff6b6b;
            font-weight: 500;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å -->
        <div id="home-page">
            <header>
                <h1>JAi Mirror Live Chat</h1>
                <p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏†‡∏≤‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
            </header>
            
            <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å -->
            <div id="personality-section">
                <h2 style="text-align: center; color: var(--primary-color);">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á JAi</h2>
                <div class="personality-cards">
                    <div class="personality-card" data-personality="elder">
                        <div class="personality-icon">üßë‚Äçüè´</div>
                        <h2>‡∏û‡∏µ‡πà‡πÉ‡∏à‡∏î‡∏µ</h2>
                        <p>‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÉ‡∏à‡∏î‡∏µ ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå</p>
                    </div>
                    
                    <div class="personality-card" data-personality="friend">
                        <div class="personality-icon">üë©‚Äçüé§</div>
                        <h2>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà</h2>
                        <p>‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏™‡πÑ‡∏ï‡∏•‡πå Gen Z ‡∏†‡∏≤‡∏©‡∏≤‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
                    </div>
                    
                    <div class="personality-card" data-personality="coach">
                        <div class="personality-icon">üèãÔ∏è</div>
                        <h2>‡πÑ‡∏•‡∏ü‡πå‡πÇ‡∏Ñ‡πâ‡∏ä</h2>
                        <p>‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ö‡∏ß‡∏Å</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó -->
        <div id="chat-room" class="chat-room">
            <div class="chat-header">
                <h2 id="chat-title">JAi Mirror</h2>
                <button class="back-btn">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <div class="typing-indicator" id="typing-indicator">JAi ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå...</div>
            </div>
            
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." autocomplete="off">
                <button id="send-btn">‡∏™‡πà‡∏á</button>
            </div>
        </div>
    </div>

    <script>
        class JAiPersonality {
            constructor(personalityType) {
                this.personality = personalityType;
                this.personalityNames = {
                    elder: "‡∏û‡∏µ‡πà‡πÉ‡∏à‡∏î‡∏µ",
                    friend: "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà",
                    coach: "‡πÑ‡∏•‡∏ü‡πå‡πÇ‡∏Ñ‡πâ‡∏ä"
                };
                
                this.personalityIcons = {
                    elder: "üßë‚Äçüè´",
                    friend: "üë©‚Äçüé§",
                    coach: "üèãÔ∏è"
                };
                
                this.conversationContext = {
                    topic: null,
                    mood: 'neutral',
                    lastUserMessage: null
                };
                
                // ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå Gen Z ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏™‡∏•‡∏á‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô
                this.genzSlang = {
                    greeting: ["‡∏ß‡πà‡∏≤‡πÑ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡πÄ‡∏à‡πâ‡∏≤", "‡πÄ‡∏Æ‡∏•‡πÇ‡∏•‡πà‡∏ß", "‡∏ß‡πà‡∏≤‡πÑ‡∏á‡∏à‡πä‡∏∞", "‡πÑ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"],
                    happy: ["‡∏≠‡∏µ‡∏õ‡πä‡∏≤‡∏î‡∏î!", "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡πÑ‡∏õ‡πÄ‡∏•‡∏¢!", "‡πÄ‡∏à‡πã‡∏á‡∏°‡∏≤‡∏Å‡∏Å", "‡πÇ‡∏Ñ‡∏ï‡∏£‡πÄ‡∏ó‡πà", "‡πÄ‡∏î‡πá‡∏î‡∏°‡∏≤‡∏Å‡∏Å"],
                    sad: ["‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏à‡∏∏‡∏á", "‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ‡∏à‡∏±‡∏á", "‡∏≠‡πà‡∏≠‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏ß", "‡πÅ‡∏õ‡∏õ‡πÜ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Å‡πá‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞"],
                    angry: ["‡πÇ‡∏Å‡∏£‡∏ò‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞!", "‡πÇ‡∏°‡πÇ‡∏´‡∏™‡∏∏‡∏î‡πÜ", "‡∏≠‡∏µ‡πä‡∏¢‡∏¢‡∏¢!", "‡∏≠‡∏¢‡πà‡∏≤‡πÑ‡∏õ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ô‡πâ‡∏≤"],
                    love: ["‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏Å", "‡∏´‡∏•‡πà‡∏≠‡∏°‡∏≤‡∏Å‡∏Å", "‡∏≠‡∏¥‡∏ô‡πÄ‡∏•‡∏¥‡∏ü", "‡∏Ñ‡∏π‡πà‡πÄ‡∏£‡∏¢‡∏≠‡πà‡∏≤"],
                    confused: ["‡∏á‡∏á‡∏à‡∏∏‡∏á", "‡πÑ‡∏°‡πàget‡∏≠‡πà‡∏≤", "‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÑ‡∏á‡∏ô‡∏∞?", "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡πâ‡∏≤"],
                    agreement: ["‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå", "‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏∏‡∏î‡πÜ", "‡πÉ‡∏ä‡πà‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢", "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥"],
                    disagreement: ["‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏ä‡∏±‡∏ß‡∏£‡πå‡∏ô‡∏∞", "‡∏Ñ‡∏¥‡∏î‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡πâ‡∏≤", "‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡πÉ‡∏ä‡πà‡∏ô‡∏∞", "‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡πà‡∏≤"],
                    surprise: ["‡∏≠‡πâ‡∏≤‡∏ß‡∏ß‡∏ß!", "‡πÇ‡∏≠‡πâ‡πÇ‡∏´!", "‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏°‡∏≤‡∏Å‡∏Å", "‡πÑ‡∏°‡πà‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ"],
                    thanks: ["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡πâ‡∏≤", "‡∏î‡∏µ‡∏à‡∏±‡∏á", "‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å", "‡∏ã‡∏∂‡πâ‡∏á‡∏à‡∏∏‡∏á"],
                    goodbye: ["‡πÑ‡∏õ‡∏•‡∏∞‡∏ô‡πâ‡∏≤", "‡∏ö‡∏±‡∏¢‡∏¢‡∏¢", "‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà", "‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"]
                };
                
                // ‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏•‡∏ü‡πå‡πÇ‡∏Ñ‡πâ‡∏ä
                this.quotes = [
                    "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡πÅ‡∏ù‡∏á‡∏ï‡∏±‡∏ß‡∏°‡∏≤‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô",
                    "‡∏ó‡∏∏‡∏Å‡∏Å‡πâ‡∏≤‡∏ß‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà",
                    "‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î ‡πÅ‡∏•‡∏∞‡∏â‡∏•‡∏≤‡∏î‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏ï‡∏±‡∏ß",
                    "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°",
                    "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏à‡∏∏‡∏î‡∏à‡∏ö ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ"
                ];
            }
            
            getWelcomeMessage() {
                const now = new Date();
                const hours = now.getHours();
                let timeOfDay;
                
                if (hours >= 5 && hours < 12) timeOfDay = 'morning';
                else if (hours >= 12 && hours < 17) timeOfDay = 'afternoon';
                else if (hours >= 17 && hours < 22) timeOfDay = 'evening';
                else timeOfDay = 'night';
                
                if (this.personality === 'friend') {
                    const greetings = {
                        morning: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏à‡πâ‡∏≤ ‡∏ï‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏≠? üåû", "‡∏°‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô! ‡∏ô‡∏≠‡∏ô‡∏û‡∏≠‡πÑ‡∏´‡∏°? üòä"],
                        afternoon: ["‡πÄ‡∏Æ‡πâ‡∏¢! ‡∏ö‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ß ‡∏°‡∏µ‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏°‡∏±‡πâ‡∏¢? üòé", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡∏ö‡πà‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏≤ ‚òÄÔ∏è"],
                        evening: ["‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ß ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á? üåÜ", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡πâ‡∏≤‡∏≤ üòÑ"],
                        night: ["‡∏î‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞! ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ô‡∏≠‡∏ô‡∏´‡∏£‡∏≠? üåô", "‡πÇ‡∏≠‡πâ‡πÇ‡∏´ ‡∏î‡∏∂‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ô‡∏≠‡∏ô‡πÄ‡∏•‡∏¢‡∏≠‡πà‡∏≤ üò¥"]
                    };
                    return greetings[timeOfDay][Math.floor(Math.random() * greetings[timeOfDay].length)];
                }
                
                const generalGreetings = {
                    morning: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ô‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?",
                    afternoon: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡∏ö‡πà‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?",
                    evening: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏´‡∏°‡∏î‡∏ß‡∏±‡∏ô‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?",
                    night: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡∏î‡∏∂‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ô‡πâ‡∏≠‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ô‡∏≠‡∏ô‡∏´‡∏£‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö?"
                };
                return generalGreetings[timeOfDay];
            }
            
            analyzeMood(text) {
                const lowerText = text.toLowerCase();
                
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏ö‡πà‡∏á‡∏ö‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå
                const happyWords = ['‡∏î‡∏µ‡πÉ‡∏à', '‡∏™‡∏∏‡∏Ç', '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ', '‡∏ä‡∏≠‡∏ö', '‡∏£‡∏±‡∏Å', '‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç', '‡∏™‡∏ô‡∏∏‡∏Å'];
                const sadWords = ['‡πÄ‡∏®‡∏£‡πâ‡∏≤', '‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à', '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤', '‡∏ó‡πâ‡∏≠', '‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢', '‡∏ú‡∏¥‡∏î‡∏´‡∏ß‡∏±‡∏á'];
                const angryWords = ['‡πÇ‡∏Å‡∏£‡∏ò', '‡πÇ‡∏°‡πÇ‡∏´', '‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç', '‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î', '‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à'];
                const loveWords = ['‡∏£‡∏±‡∏Å', '‡∏ä‡∏≠‡∏ö', '‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á', '‡∏´‡πà‡∏ß‡∏á', '‡πÄ‡∏õ‡πá‡∏ô‡∏´‡πà‡∏ß‡∏á'];
                const confusedWords = ['‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ', '‡∏™‡∏á‡∏™‡∏±‡∏¢', 'confuse', '‡∏•‡∏±‡∏á‡πÄ‡∏•', '‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ'];
                
                if (happyWords.some(word => lowerText.includes(word))) return 'happy';
                if (sadWords.some(word => lowerText.includes(word))) return 'sad';
                if (angryWords.some(word => lowerText.includes(word))) return 'angry';
                if (loveWords.some(word => lowerText.includes(word))) return 'love';
                if (confusedWords.some(word => lowerText.includes(word))) return 'confused';
                
                return 'neutral';
            }
            
            generateResponse(userInput) {
                // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï context ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
                this.conversationContext.mood = this.analyzeMood(userInput);
                this.conversationContext.lastUserMessage = userInput;
                
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà
                if (this.personality === 'friend') {
                    return this.generateGenZResponse(userInput);
                }
                
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ
                if (this.personality === 'coach' && Math.random() < 0.25) {
                    const quote = this.quotes[Math.floor(Math.random() * this.quotes.length)];
                    return {
                        text: `‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏î‡∏µ‡πÜ ‡∏°‡∏≤‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô: "${quote}"`,
                        isQuote: true
                    };
                }
                
                return this.getGeneralResponse();
            }
            
            generateGenZResponse(userInput) {
                const mood = this.conversationContext.mood;
                const slang = this.genzSlang;
                
                // 40% ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå Gen Z
                if (Math.random() < 0.4) {
                    switch(mood) {
                        case 'happy':
                            return slang.happy[Math.floor(Math.random() * slang.happy.length)] + " " + this.addRandomEmoji();
                        case 'sad':
                            return slang.sad[Math.floor(Math.random() * slang.sad.length)] + " " + this.addRandomEmoji();
                        case 'angry':
                            return slang.angry[Math.floor(Math.random() * slang.angry.length)] + " " + this.addRandomEmoji();
                        case 'love':
                            return slang.love[Math.floor(Math.random() * slang.love.length)] + " " + this.addRandomEmoji();
                        case 'confused':
                            return slang.confused[Math.floor(Math.random() * slang.confused.length)] + " " + this.addRandomEmoji();
                        default:
                            // 50% ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡πà‡∏≠
                            if (Math.random() < 0.5) {
                                const questions = [
                                    "‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏•‡πà‡∏∞?",
                                    "‡∏ö‡∏≠‡∏Å‡∏â‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?",
                                    "‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏¥‡∏î‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ?",
                                    "‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏´‡∏°? ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞",
                                    "‡πÇ‡∏≠‡πâ‡πÇ‡∏´ ‡πÄ‡∏•‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏î‡∏¥!"
                                ];
                                return questions[Math.floor(Math.random() * questions.length)];
                            }
                            return slang.agreement[Math.floor(Math.random() * slang.agreement.length)] + " " + this.addRandomEmoji();
                    }
                }
                
                // ‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤ Gen Z
                const responses = [
                    `‡∏≠‡∏∑‡πâ‡∏°‡∏° ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡πà‡∏≤ ${this.addRandomEmoji()}`,
                    `‡πÇ‡∏≠‡πÄ‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß‡∏ß ${this.addRandomEmoji()}`,
                    `‡∏ß‡πâ‡∏≤‡∏ß‡∏ß‡∏ß ‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å ${this.addRandomEmoji()}`,
                    `‡∏à‡∏£‡∏¥‡∏á‡∏≠‡∏∞? ‡πÄ‡∏•‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏î‡∏¥ ${this.addRandomEmoji()}`,
                    `‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡∏∞ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢ ${this.addRandomEmoji()}`,
                    `‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÑ‡∏õ‡∏´‡∏£‡∏≠‡∏Å ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏°‡∏±‡∏ô‡∏Å‡πá‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ${this.addRandomEmoji()}`,
                    `‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏≠‡πà‡∏≤ ${this.addRandomEmoji()}`,
                    `‡∏â‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ô‡∏∞ ${this.addRandomEmoji()}`,
                    `‡∏™‡∏π‡πâ‡πÜ ‡∏ô‡πâ‡∏≤‡∏≤ ${this.addRandomEmoji()}`,
                    `‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏°‡∏±‡∏ô‡∏Å‡πá‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏´‡∏•‡∏∞‡∏ô‡πà‡∏≤ ${this.addRandomEmoji()}`
                ];
                
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            addRandomEmoji() {
                const emojis = ['üòä', 'üòÇ', 'üòç', 'üòé', 'üëç', 'üôè', '‚ù§Ô∏è', 'ü§î', 'üòâ', 'üôÇ', '‚ú®', 'üéâ', 'üíØ', 'ü§©', 'ü•≥'];
                return emojis[Math.floor(Math.random() * emojis.length)];
            }
            
            getGeneralResponse() {
                const generalResponses = {
                    elder: [
                        "‡∏û‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ",
                        "‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏û‡∏µ‡πà‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
                        "‡∏û‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
                        "‡∏ó‡∏∏‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏°‡∏µ‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏û‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏á‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ",
                        "‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏û‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"
                    ],
                    coach: [
                        "‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô! ‡∏°‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤",
                        "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á? ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ",
                        "Keep going! ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡∏ñ‡∏±‡∏î‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß",
                        "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï ‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡∏î‡∏π‡∏™‡∏¥‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á",
                        "‡∏ú‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì! ‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏î‡∏π‡∏™‡∏¥"
                    ]
                };
                
                return generalResponses[this.personality][Math.floor(Math.random() * generalResponses[this.personality].length)];
            }
            
            highlightGenZWords(text) {
                // ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå Gen Z ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
                const genzWords = Object.values(this.genzSlang).flat();
                let highlightedText = text;
                
                genzWords.forEach(word => {
                    if (highlightedText.includes(word)) {
                        highlightedText = highlightedText.replace(
                            new RegExp(word, 'g'), 
                            `<span class="genz-word">${word}</span>`
                        );
                    }
                });
                
                return highlightedText;
            }
        }

        const jaiApp = {
            selectedPersonality: null,
            jaiPersonality: null,
            
            init() {
                this.setupEventListeners();
            },
            
            setupEventListeners() {
                // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å AI
                document.querySelectorAll('.personality-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        this.selectedPersonality = e.currentTarget.dataset.personality;
                        this.enterChatRoom();
                    });
                });
                
                // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                document.getElementById('send-btn').addEventListener('click', () => {
                    this.sendMessage();
                });
                
                // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ Enter
                document.getElementById('chat-input').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage();
                    }
                });
                
                // ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                document.querySelector('.back-btn').addEventListener('click', () => {
                    this.leaveChatRoom();
                });
            },
            
            enterChatRoom() {
                // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ‡πÅ‡∏™‡∏î‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó
                document.getElementById('home-page').style.display = 'none';
                document.getElementById('chat-room').style.display = 'flex';
                
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á JAi ‡∏ï‡∏≤‡∏°‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                this.jaiPersonality = new JAiPersonality(this.selectedPersonality);
                document.getElementById('chat-title').textContent = 
                    `${this.jaiPersonality.personalityIcons[this.selectedPersonality]} JAi ${
                    this.jaiPersonality.personalityNames[this.selectedPersonality]}`;
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö
                this.displayMessage('ai', this.jaiPersonality.getWelcomeMessage());
            },
            
            leaveChatRoom() {
                // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                document.getElementById('chat-room').style.display = 'none';
                document.getElementById('home-page').style.display = 'block';
                
                // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ä‡∏ó
                document.getElementById('chat-messages').innerHTML = 
                    '<div class="typing-indicator" id="typing-indicator">JAi ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå...</div>';
                
                // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£
                this.selectedPersonality = null;
                this.jaiPersonality = null;
            },
            
            sendMessage() {
                const inputElement = document.getElementById('chat-input');
                const message = inputElement.value.trim();
                
                if (message !== '') {
                    // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
                    this.displayMessage('user', message);
                    
                    // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡∏≠‡∏á JAi
                    const typingIndicator = document.getElementById('typing-indicator');
                    typingIndicator.style.display = 'block';
                    
                    // ‡∏•‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏áÂÖ•Âäõ
                    inputElement.value = '';
                    
                    // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á JAi ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤
                    setTimeout(() => {
                        typingIndicator.style.display = 'none';
                        const response = this.jaiPersonality.generateResponse(message);
                        
                        if (typeof response === 'object' && response.isQuote) {
                            const quoteElement = document.createElement('div');
                            quoteElement.className = 'message ai quote-message';
                            quoteElement.textContent = response.text;
                            document.getElementById('chat-messages').appendChild(quoteElement);
                        } else {
                            this.displayMessage('ai', response);
                        }
                        
                        // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
                        const chatBox = document.getElementById('chat-messages');
                        chatBox.scrollTop = chatBox.scrollHeight;
                    }, 800 + Math.random() * 1500); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°
                }
            },
            
            displayMessage(sender, text) {
                const chatBox = document.getElementById('chat-messages');
                const msgElement = document.createElement('div');
                msgElement.className = `message ${sender}`;
                
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå Gen Z
                if (this.selectedPersonality === 'friend' && sender === 'ai') {
                    msgElement.innerHTML = this.jaiPersonality.highlightGenZWords(text);
                } else {
                    msgElement.textContent = text;
                }
                
                chatBox.appendChild(msgElement);
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        };

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô
        document.addEventListener('DOMContentLoaded', () => {
            jaiApp.init();
        });
    </script>
</body>
</html>